
<div class="customheader">

    <div class="customheaderleft">
        <h2>{{restaurantName}}</h2>
    </div>
    <div class="customheaderright">
        <ul>
            <li style="float:left;padding-left:20px" (click)="waitlistPage()">Waitlist</li>
            <li style="float:left;padding-left:20px" (click)="seatedPage()">Seated</li>
            <li style="float:left;padding-left:20px" (click)="snapshotPage()">Snapshot</li>
            <li style="float:left;padding-left:20px" (click)="settingsPage()">Settings</li>
        </ul>
    </div>

</div>
<div class="col-md-12 settingmain">
    <div class="col-md-6 settingtop setgap">
        <h3>Reset Password</h3>

        <table class="table">
            <tbody *ngFor="let truflcustomers of UsersInformation | paginate: { itemsPerPage: 5, currentPage: p }; let i = index">
                <tr>
                    <td class="text"><p>Username:</p><p class="settingsdata">{{truflcustomers.RegisteredRestaurants}}</p></td>
                    <td class="text"><p>Email Id:</p><p class="settingsdata">{{truflcustomers.RegisteredEmail}}</p></td>
                   
                    <td><a class="reset" (click)="Reset(truflcustomers.RegisteredEmail)">Reset</a></td>
                </tr>
            </tbody>
        </table>
        <pagination-controls class="pull-right" (pageChange)="p=$event"></pagination-controls>
    </div>
    <div class="col-md-5 settingtop" id="secondsettingtop">
        <h3>
            Profile
            <a class="pull-right" href="#"></a>
        </h3>
        <table class="table">

            <tbody>

                <tr *ngFor="let obj of user; let i = index">
                    <td *ngIf="!obj.isEdit" class="text"><p>{{obj.key}}:</p><p class="settingsdata">{{obj.value}}</p></td>

                    <td *ngIf="!obj.isEdit">
                        <a (click)="editDetails(obj, i)">
                            <img alt="" src="../../../../wwwroot/images/edit.png" />
                        </a>
                    </td>

                    <td *ngIf="obj.isEdit && obj.key=='FullName'">
                    <label class="text-muted">{{obj.key}}:</label><input type="text" name="name" [(ngModel)]="obj.value"  id="name" #name="ngModel" pattern="^[A-Za-z ]{2,}$" required minlength="2"/>
                        <label *ngIf="name.invalid && (name.dirty || name.touched)" class="alert alert-danger">

                            <label *ngIf="name.errors.required">
                                username is required.
                            </label>
                            <label *ngIf="name.errors.minlength">
                                username must be at least 2 characters long.
                            </label>
                            <label *ngIf="name.errors.pattern">
                                username can be upper or lower case along with spaces
                            </label>

                        </label>
                    </td>




                    <td *ngIf="obj.isEdit && obj.key=='Email'">
                        <label class="text-muted">{{obj.key}}:</label><input type="email" name="email" [(ngModel)]="obj.value" id="email" #email="ngModel" pattern="^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$" required  />
                        <label *ngIf="email.invalid && (email.dirty || email.touched)" class="alert alert-danger">

                            <label *ngIf="email.errors.required">
                                email is required.
                            </label>
                           
                            <label *ngIf="email.errors.pattern">
                                email  must match pattern ex:abc@gmail.com
                            </label>

                        </label>
                    </td>


                    <td *ngIf="obj.isEdit && obj.key=='Password'">
                        <label class="text-muted">{{obj.key}}:</label><input type="password" required minlength="8" pattern="(?=^.{8,}$)((?=.*\d)|(?=.*\W+))(?![.\n])(?=.*[A-Z])(?=.*[a-z]).*$" id="password" name="password" #password="ngModel" [(ngModel)]="obj.value" />
                        <label *ngIf="password.invalid && (password.dirty || password.touched)" class="alert alert-danger">

                            <label *ngIf="password.errors.required">
                                password is required.
                            </label>
                            <label *ngIf="password.errors.minlength">
                                password must be at least 8 characters long.
                            </label>
                            <label *ngIf="password.errors.pattern">
                               password should contain one upper case one lower case one number one special character and minimum length 8
                            </label>

                        </label>

                    </td>

                </tr>


               
                <tr *ngIf="isShow">
                    <td>
                        <button type="submit" class="primary-btn lgbtn pull-left" (click)="Done()" id="done">Done</button>
                        <!--<button [disabled]="!(name.errors.required || name.errors.pattern || email.errors.required || email.errors.pattern || password.errors.minlength || password.errors.pattern)" type="submit" class="primary-btn lgbtn pull-left" (click)="Done()" id="done">Done</button>-->
                       
                        <button (click)="cancel()" class="secondary-btn lgbtn" id="cancel">Cancel</button>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

    </div>